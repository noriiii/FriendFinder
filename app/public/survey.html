<html lang="en"><head>
<meta charset="UTF-8">
<title>FriendFinder</title>

<!-- Latest compiled and minified CSS & JS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<!-- Font Awesome Glyphicons -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

<!-- Chosen -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>
<body>

      <div class="container">
      	<div class="form-group">
      		<form action="" method="POST" role="form">
      			<legend><strong><h1>About You</h1></strong></legend>

      			<div class="form-group">
      				<label for="">Name (Required)</label>
      				<input type="text" class="form-control" id="newFriendName" placeholder="Name">

      				<label for="">Link to Photo Image (Required)</label>
      				<input type="text" class="form-control" id="newFriendPhoto" placeholder="Link to Photo">
      				<hr>
      				<label for="q1"></h1>Question 1:</h1></label>
      				<br> You like to drink alcohol
      				<select class="form-control" id="q1">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q2"></h1>Question 2:</h1></label>
      				<br> You like pets
      					<select class="form-control" id="q2">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q3"></h1>Question 3:</h1></label>
      				<br> You like children
      					<select class="form-control" id="q3">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q4"></h1>Question 4:</h1></label>
      				<br> You like to meet in person someone you met online
      					<select class="form-control" id="q4">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q5"></h1>Question 5:</h1></label>
      				<br> You like to travel
      					<select class="form-control" id="q5">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q6"></h1>Question 6:</h1></label>
      				<br> You like to exercise
      					<select class="form-control" id="q6">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q7"></h1>Question 7:</h1></label>
      				<br> You like to go to movies
      					<select class="form-control" id="q7">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q8"></h1>Question 8:</h1></label>
      				<br> You like rock music
      					<select class="form-control" id="q8">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q9"></h1>Question 9:</h1></label>
      				<br> You like to take a shower
      					<select class="form-control" id="q9">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>
      				<label for="q10"></h1>Question 10:</h1></label>
      				<br> You like money
      					<select class="form-control" id="q10">
      					<option value="" disabled selected hidden>Please Choose...</option>
      					<option>1</option>
      					<option>2</option>
      					<option>3</option>
      					<option>4</option>
      				</select>

      			</div>
      			<button type="submit" class="btn btn-primary submitBtn" data-toggle="modal" data-target="#myModal">Submit</button>
      		</form>
      	</div>
      </div>
    

      	<hr>
      	<footer class="footer">
      		<div class="container">
      			<p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></p>
      		</div>
      	</footer>

      </div>

      <!-- Modal -->
      <div id="resultsModal" class="modal fade" role="dialog">
      	<div class="modal-dialog">

      		<!-- Modal content-->
      		<div class="modal-content">
      			<div class="modal-header">
      				<button type="button" class="close" data-dismiss="modal">Ã—</button>
      				<h2 class="modal-title"><strong>Best Match</strong></h2>
      			</div>
      			<div class="modal-body">
      				<h2 id="matchName"></h2>
      				<img id="matchImg" src="https://fthmb.tqn.com/Fk-YOsNmElA5Mt9jaVpfH3EBOwY=/2250x1500/filters:no_upscale()/about/spongebob_wide-56a00f0a5f9b58eba4aeb6f2.jpg" alt="">
      			</div>
      			<div class="modal-footer">
      				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      			</div>
      		</div>

      	</div>
      </div>

      <script type="text/javascript">
    $(".submitBtn").on("click", function(event){
                event.preventDefault();
            //create a new Object for friend being added
            var newFriend = {
                //grabs values from form
                name: $("#newFriendName").val().trim(),
                photo: $("#newFriendPhoto").val().trim(),
                scores: [],
                totalDiff: 0
            };
            //iterate through each question input and add them to the scores array in the newFriend object
            for(var i = 1; i <= 10; i++){
                var question = "#q" + i;
                newFriend.scores.push($(question).val());
            }

        //post request to add our new Friend to the friends API data
        $.post("/api/friends", newFriend)
        .done(function(data) {
        	console.log(data);
            // var bestMatch = data;
            // $("#matchName").text(bestMatch.name);
            // $("#matchImg").attr("src", bestMatch.photo);
        });
    });

 //  	// Chosen CSS
 //  	var config = {
 //  		'.chosen-select'           : {},
 //  		'.chosen-select-deselect'  : {allow_single_deselect:true},
 //  		'.chosen-select-no-single' : {disable_search_threshold:10},
 //  		'.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
 //  		'.chosen-select-width'     : {width:"95%"}
 //  	}
 //  	for (var selector in config) {
 //  		$(selector).chosen(config[selector]);
 //  	}

 //    // Capture the form inputs 
 //    $("#submit").on("click", function(){

 //    	// Form validation
 //    	function validateForm() {
 //    		var isValid = true;
 //    		$('.form-control').each(function() {
 //    			if ( $(this).val() === '' )
 //    				isValid = false;
 //    		});

 //    		$('.chosen-select').each(function() {

 //    			if( $(this).val() === "")
 //    				isValid = false
 //    		})
 //    		return isValid;
 //    	}

	// 	// If all required fields are filled
	// 	if (validateForm() == true)
	// 	{
	// 		// Create an object for the user's data
	// 		var userData = {
	// 			name: $("#name").val(),
	// 			photo: $("#photo").val(),
	// 			scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
	// 		}


	//     	// Grab the URL of the website
	//     	var currentURL = window.location.origin;

	//     	// AJAX post the data to the friends API. 
	//     	$.post(currentURL + "/api/friends", userData, function(data){

	//     		// Grab the result from the AJAX post so that the best match's name and photo are displayed.
	//     		$("#matchName").text(data.name);
	//     		$('#matchImg').attr("src", data.photo);

	// 	    	// Show the modal with the best match 
	// 	    	$("#resultsModal").modal('toggle');

	// 	    });
	//     }
	//     else
	//     {
	//     	alert("Please fill out all fields before submitting!");
	//     }

	//     return false;
	// });


</script>


</body></html>